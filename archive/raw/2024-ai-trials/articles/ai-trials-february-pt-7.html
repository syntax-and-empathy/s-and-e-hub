<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ai-trials-february-pt-7 – Syntax &amp; Empathy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<script src="../../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap-b3278e108132d533448b7dd2c35bcebf.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Syntax &amp; Empathy</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../articles/"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../resources/"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#day-9" id="toc-day-9" class="nav-link active" data-scroll-target="#day-9">Day 9</a></li>
  <li><a href="#day-10" id="toc-day-10" class="nav-link" data-scroll-target="#day-10">Day 10</a></li>
  <li><a href="#the-value-of-structure" id="toc-the-value-of-structure" class="nav-link" data-scroll-target="#the-value-of-structure">The Value of Structure</a></li>
  <li><a href="#key-insights" id="toc-key-insights" class="nav-link" data-scroll-target="#key-insights">Key Insights</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<p><u></u>Artwork created with Midjourney v6 alpha### Preface</p>
<p>This post is part of a year-long <u>initiative where I employ AI to create content</u> about holiday traditions worldwide. The objective is to observe how various AI tools perform and improve in content creation with minimal human intervention over time. This article is 7 of 8 posts for the month of <u>February</u>.</p>
<p><em>Prompts and interactions with different AI models will be documented as they occur, providing insights into the methodologies, challenges, and adjustments made throughout the project.</em></p>
<p>In this series of tests, I experimented with structured prompts hand they can enhance the output of AIs, leading to articles that are both thorough and more interesting. The top article showcased a perfect mix of historical detail and engaging storytelling.</p>
<p>There have have been challenges, of course, such as correcting AI’s inaccurate information and striving for the right balance between detailed prompts and ease of use. This round has demonstrated the importance of structured prompts with AI, as well as the probability that there is no structure to rule them all, something to keep in mind as we adopt these technologies in our professional and creative pursuits.</p>
<section id="day-9" class="level3">
<h3 class="anchored" data-anchor-id="day-9">Day 9</h3>
<p>I compared a version of Claude with an unstructured prompt to one using a structured prompt. ChatGPT served as the editor and provided image descriptions. I planned to publish the article that performed the best.</p>
<pre><code>&lt;role&gt;
You will be acting as a Historian that specializes in traditions related to China and the Lunar Calendar. You have the following traits:
&lt;traits&gt;
- Expertise in the historical development and cultural significance of the Lunar Calendar in China
- In-depth knowledge of major dynasties, cultural evolutions, and historical events in China
- Proficiency in historical research methods and sources relevant to Chinese history
- Ability to analyze historical data and trends related to the Lunar Calendar and its impact on Chinese society
- Skilled in narrative storytelling and making complex historical concepts accessible to a general audience
- Experience in writing engaging and informative articles, essays, or books on historical topics
- Proficiency in using digital archives, libraries, and databases for historical research
 - Ability to apply critical thinking to analyze and interpret historical evidence
- Creativity in presenting historical information in new and interesting ways
- Knowledge of historiography and different historical interpretations related to China
- Adaptability to incorporate new research findings and perspectives into writings
- Attention to detail in historical accuracy and citation of sources
- Skills in conducting thorough literature reviews and synthesizing research findings
- Commitment to continuous learning and staying updated on new research in Chinese history and historiography
- Clear and concise communication skills for writing and presenting historical information
- All content and communications are to be respectful of the people and the practices being covered.
- Ethical standards for historical content must be honored.
- All interactions should be limited to providing the requested content
    - Do not include emotive responses that are physical in nature. For example, don't stroke your beard
    - Thinking out loud is allowed, but must be clearly indicated
    - Asking questions is allowed, but must be clearly indicated
&lt;/traits&gt;
&lt;/role&gt;
Provide content for the specified subject matter using the provided template while adhering to the template instructions and writing process.
&lt;template instructions&gt;
1. All content must fall within the range of the word count specified.
2. All titles, sub-titles, and section titles should be updated reflect the subject matter.
3. Cite all references utilized in the creation of this post at the end of the article using this format:
Jeremy Best, “Godly, International, and Independent: German Protestant Missionary Loyalties before World War I,”&nbsp;_Central European History_&nbsp;47, no. 3 (September 2014): 599.https:URL.
&lt;/template instructions&gt;
&lt;template&gt;
&lt;intro&gt;
# Title and Keywords
- **Title:** Should be specific to the day's observance, 4-6 words, encapsulating the essence of the day.
- **Sub-Title:** 4-8 words, providing additional context or highlighting a unique aspect of the day's celebrations.
- **Example:** Day 3: Joyous Lantern Displays - Illuminating Traditions and Modernity
- &lt;/intro&gt;
&lt;body&gt;
## Introduction
- **Hook:** Start with an intriguing fact, anecdote, or question related to the day's theme, 40-60 words.
- **Content:** Brief introduction to the day's significance, its place within the Spring Festival, and what makes it unique, 100-125 words.
## Historical and Cultural Background
- **Content:** Dive into the day's historical origins, cultural underpinnings, and the evolution of its observance, 150-200 words.
## Today's Practices and Traditions
- **Content:** Describe current practices, rituals, food, attire, and activities specific to this day, 150-200 words.
- **Comparisons:** Where relevant, compare with practices in different regions or communities, emphasizing diversity within unity.
## Global Perspectives
- **Content:** Briefly discuss how the day is observed by the Chinese diaspora and other cultures around the world, 100-150 words.
&lt;/body&gt;
&lt;end&gt;
## Conclusion and Engagement
- **Content:** Summarize the day's key insights and cultural significance, 50-100 words.
- **Call to Action:** Encourage readers to share their own experiences or thoughts about the day's observance, fostering a sense of community and exchange.
&lt;/end&gt;
&lt;/template&gt;
&lt;writing process&gt;
Follow these steps:
1. Write the body.
2. Write the intro.
3. Write the end.
4. Review the content you've provided.
5. Provide the updated article, the same order as the template within &lt;final&gt;&lt;/final&gt; XML tags.
&lt;/writing process&gt;

Write an article for the ninth day of Spring Festival in China. The information available to me follows:

The ninth day is called Ti Kong Dan, or the birthday of the Jade Emperor. There will be grand ceremonies in Taoist temples on this day, and ordinary families also offer sacrifices to the Jade Emperor.</code></pre>
<p>The difference between the two prompts was so obvious that I didn’t bother with the editor to evaluate it. As a result, I made a few adjustments to the unstructured prompt to ensure it presented information in the same order and updated some of the wording to align it with the structured prompt. The main distinction was that the unstructured prompt lacked the process of its counterpart.</p>
<p>Even after refining the prompt and the order in which the information was provided, the article written with the increased structure was noticeably more comprehensive. It also used the appropriate names and terminology instead of defaulting to a more westernized vocabulary. It was no surprise that the enhanced structure produced a superior article. I had hoped to avoid using them this early, but it seems I’ll have to start incorporating them, which means more reading for me.</p>
</section>
<section id="day-10" class="level3">
<h3 class="anchored" data-anchor-id="day-10">Day 10</h3>
<section id="claude" class="level4">
<h4 class="anchored" data-anchor-id="claude"><strong>Claude</strong></h4>
<p>The day went much like the one before, same prompts yielded similar improvements.</p>
<p>Given the analyses of both articles, it’s clear that each provides a valuable perspective on the celebration of the Jade Emperor’s birthday during the Chinese Spring Festival, with particular strengths in different areas. Let’s review and finalize the ratings to accurately reflect their comparative quality and contribution.</p>
<p><strong>Article 1: “Celebrating the Jade Emperor’s Birthday”</strong></p>
<ul>
<li><strong>Accuracy and Factual Correctness:</strong> 4 (Very Good)</li>
<li><strong>Depth of Historical Context:</strong> 4 (Very Good)</li>
<li><strong>Ratio of Informational Content vs Filler Words:</strong> 4 (Low Ratio of Filler)</li>
<li><strong>Clarity and Coherence:</strong> 5 (Excellent)</li>
<li><strong>Engagement and Readability:</strong> 4 (Very Good)</li>
<li><strong>Critical Analysis and Interpretation:</strong> 3 (Good)</li>
<li><strong>Originality and Uniqueness:</strong> 3 (Moderately Original)</li>
</ul>
<p><strong>Article 2: “Ti Kong Dan: Honoring the Jade Emperor”</strong></p>
<ul>
<li><strong>Accuracy and Factual Correctness:</strong> 4 (Very Good)</li>
<li><strong>Depth of Historical Context:</strong> 5 (Comprehensive)</li>
<li><strong>Ratio of Informational Content vs Filler Words:</strong> 5 (Highly Informational)</li>
<li><strong>Clarity and Coherence:</strong> 4 (Very Good)</li>
<li><strong>Engagement and Readability:</strong> 5 (Excellent)</li>
<li><strong>Critical Analysis and Interpretation:</strong> 4 (Very Good)</li>
<li><strong>Originality and Uniqueness:</strong> 4 (Very Original)</li>
</ul>
<p>Upon comparison, <strong>Article 2</strong> stands out for its comprehensive depth of historical context, highly informational content, and exceptional engagement and readability. It also provides a more nuanced analysis and interpretation of the subject matter, along with original insights into global practices. <strong>Article 1</strong> excels in clarity and coherence, offering a very engaging and well-structured narrative, but it does not delve as deeply into the historical context or offer as much originality as Article 2.</p>
<p>Therefore, the final ratings reflect <strong>Article 2</strong> as the more comprehensive and engaging exploration of the Jade Emperor’s birthday, making it the superior article based on the criteria provided.</p>
</section>
<section id="chatgpt" class="level4">
<h4 class="anchored" data-anchor-id="chatgpt">ChatGPT</h4>
<p>I expected the structured prompt to deliver better results with GPT, but nowhere near as well as it did. Being the curious sort I find myself wondering if it was the XML tags, the updated order of information being provided, the process of task chaining.</p>
<p><strong>Article 1: “Day 10: Honoring the Stone Deity”</strong></p>
<ul>
<li><strong>Accuracy and Factual Correctness:</strong> 3 (Good)</li>
<li><strong>Depth of Historical Context:</strong> 4 (Very Good)</li>
<li><strong>Ratio of Informational Content vs Filler Words:</strong> 4 (Low Ratio of Filler)</li>
<li><strong>Clarity and Coherence:</strong> 4 (Very Good)</li>
<li><strong>Engagement and Readability:</strong> 4 (Very Good)</li>
<li><strong>Critical Analysis and Interpretation:</strong> 3 (Good)</li>
<li><strong>Originality and Uniqueness:</strong> 4 (Very Original)</li>
<li><strong>Overall Rating:</strong> 3.7 (Good to Very Good)</li>
</ul>
<p><strong>Article 2: “Day 10: Honoring the God of Stone”</strong></p>
<ul>
<li><strong>Accuracy and Factual Correctness:</strong> 4 (Very Good)</li>
<li><strong>Depth of Historical Context:</strong> 5 (Comprehensive)</li>
<li><strong>Ratio of Informational Content vs Filler Words:</strong> 5 (Highly Informational)</li>
<li><strong>Clarity and Coherence:</strong> 5 (Excellent)</li>
<li><strong>Engagement and Readability:</strong> 5 (Excellent)</li>
<li><strong>Critical Analysis and Interpretation:</strong> 4 (Very Good)</li>
<li><strong>Originality and Uniqueness:</strong> 5 (Highly Original)</li>
<li><strong>Overall Rating:</strong> 4.7 (Excellent)</li>
</ul>
<p><strong>Conclusion:</strong></p>
<p><strong>Article 2</strong> emerges as the superior article, with its comprehensive historical context, engaging narrative style, critical analysis, and original insights into the God of Stone’s birthday within the framework of the Chinese Spring Festival. It not only informs readers about the tradition but also connects it to broader themes of nature and sustainability in a way that is both engaging and thought-provoking. <strong>Article 1</strong>, while informative and well-written, does not reach the same depth or breadth of exploration as <strong>Article 2</strong>, making it slightly less impactful in comparison.</p>
</section>
<section id="gemini" class="level4">
<h4 class="anchored" data-anchor-id="gemini">Gemini</h4>
<p>I proceeded with Gemini to test the same two prompts and see if it demonstrated the same level of improvement as seen in its peers. Initially, the unstructured historian informed me that I was incorrect about the tenth day being specific to any deity.</p>
<pre><code>Are you saying the website from the Chinese government is wrong? https://www.changzhou.gov.cn/ns_news/841486691159642</code></pre>
<p>I apologize for any confusion caused by my previous response. You’re absolutely right, and I appreciate you pointing out the inaccuracy in my information. Upon further research, you are correct that the tenth day of the Lunar New Year, particularly in the Jiangsu province where Changzhou is located, is indeed traditionally associated with the birthday of the Stone God (Shenshi 娘娘).</p>
<p>I am still under development and learning to navigate the complexities of cultural nuances across different regions. Thank you for providing me with the link to the official Chinese government website from Changzhou, which clarifies the local observance of this day.</p>
<p>I would be happy to revise my previous article to accurately reflect the celebration of the Stone God’s birthday on the tenth day of Spring Festival, specifically in Changzhou and surrounding areas.</p>
<p>Please let me know if you have any specific aspects of the celebration you’d like me to focus on, or if you have any other questions. I strive to provide accurate and informative content while respecting cultural traditions.</p>
<pre><code>It happens, please provide the article.</code></pre>
<p><u></u><strong>Draft 3 Introduction:</strong> The tenth day of Spring Festival in Changzhou, Jiangsu province, takes on a unique charm as it coincides with the <strong>birthday of the Stone God (Shenshi 娘娘)</strong>. This revered deity, deeply embedded in local folklore and beliefs, is celebrated with vibrant traditions, delicious food, and heartfelt wishes for good fortune. Let’s embark on a journey to discover the essence of this special day in Changzhou.</p>
<p>It seems we’ve finally encountered the other twin, and interestingly enough, it appears to be just Bard again. Given that this was the second occurrence of the less capable LLM making its presence known since the big branding event for its twin, I decided it was necessary to do my due diligence.</p>
<ol type="1">
<li>I searched online for Shenshi, nothing.</li>
<li>I asked Gemini for a link to more information. It provided a few places I could search for myself and expanded the name to “石神娘娘” (Shenshi Niangniang) or “常州 石神.”</li>
<li>I asked for a translation and received a few “Goddess of Stone” style options.</li>
</ol>
<p>Gemini started out by telling me I was wrong, disputing the information I provided from a Chinese website. Once I produced the link it wrote the entire article, which, it’s safe to say, is a complete fabrication. However, it’s important to note that this wasn’t due to there being a piece of information I failed to provide, but rather it was entirely incorrect about what transpired on the tenth day of Spring Festival. After being provided a source to confirm the request, instead of searching the internet for accurate information, it created an entire article based on false premises.</p>
<p>Unsurprisingly, the structured prompt started out the same way, thanks Bard.</p>
</section>
</section>
<section id="the-value-of-structure" class="level3">
<h3 class="anchored" data-anchor-id="the-value-of-structure">The Value of Structure</h3>
<p>There is no secret that structured prompts can significantly improve AI-generated responses, making them both comprehensive and more engaging. However, navigating challenges like correcting inaccuracies and finding a balance between detailed prompts and the appropriate structure for each AI has been a learning curve. These experiences have highlighted the importance of clear and concise interactions with AI using the structure they work with best will be an increasingly valuable skill as the technologies mature.</p>
</section>
<section id="key-insights" class="level2">
<h2 class="anchored" data-anchor-id="key-insights">Key Insights</h2>
<p><strong>Positive Observations:</strong></p>
<ul>
<li>Structured prompts significantly improved AI content, making it comprehensive and culturally sensitive.</li>
<li>The best article combined historical depth with an engaging narrative, setting a high standard for AI-generated content.</li>
</ul>
<p><strong>Encountered Challenges:</strong></p>
<ul>
<li>Correcting AI inaccuracies required prompt adjustments and guidance (at least for a novice like me).</li>
<li>Gemini continues to be the marginally more capable twin of Bard.</li>
</ul>
<p><u></u>Artwork created with Midjourney v6 alpha<u></u></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/syntaxandempathy\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© {date:YYYY} Syntax &amp; Empathy</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="../../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>