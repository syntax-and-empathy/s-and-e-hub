<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ai-trials-november-pt-2 – Syntax &amp; Empathy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../assets/favicon-32.png" rel="icon" type="image/png">
<script src="../../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap-3bd9c6c68431aca4adf55af8f49c70f3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<!-- Load Lora from Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&amp;display=swap" rel="stylesheet">


<meta property="og:title" content="Syntax &amp; Empathy">
<meta property="og:description" content="">
<meta property="og:image" content="https://syntaxandempathy.github.io/syntax-and-empathy/archive/raw/2024-ai-trials/articles/assets/og-image.png">
<meta property="og:site_name" content="Syntax &amp; Empathy">
<meta name="twitter:title" content="Syntax &amp; Empathy">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://syntaxandempathy.github.io/syntax-and-empathy/archive/raw/2024-ai-trials/articles/assets/og-image.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../assets/logo-navbar.png" alt="" class="navbar-logo light-content">
    <img src="../../../../assets/logo-navbar.png" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Syntax &amp; Empathy</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../articles/"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../resources/"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#tldr" id="toc-tldr" class="nav-link active" data-scroll-target="#tldr">TL;DR</a>
  <ul class="collapse">
  <li><a href="#ai-models" id="toc-ai-models" class="nav-link" data-scroll-target="#ai-models">AI Models</a></li>
  </ul></li>
  <li><a href="#goals" id="toc-goals" class="nav-link" data-scroll-target="#goals">Goals</a></li>
  <li><a href="#self-defined-roles" id="toc-self-defined-roles" class="nav-link" data-scroll-target="#self-defined-roles">Self-Defined Roles</a></li>
  <li><a href="#structured-role-approach" id="toc-structured-role-approach" class="nav-link" data-scroll-target="#structured-role-approach">Structured Role Approach</a></li>
  <li><a href="#prompt-specifically-kids" id="toc-prompt-specifically-kids" class="nav-link" data-scroll-target="#prompt-specifically-kids">Prompt Specifically, Kids</a></li>
  <li><a href="#role-definition-impact" id="toc-role-definition-impact" class="nav-link" data-scroll-target="#role-definition-impact">Role Definition Impact</a></li>
  <li><a href="#insights-observations" id="toc-insights-observations" class="nav-link" data-scroll-target="#insights-observations">Insights &amp; Observations</a>
  <ul class="collapse">
  <li><a href="#the-good" id="toc-the-good" class="nav-link" data-scroll-target="#the-good">The Good</a></li>
  <li><a href="#the-bad" id="toc-the-bad" class="nav-link" data-scroll-target="#the-bad">The Bad</a></li>
  <li><a href="#the-ugly" id="toc-the-ugly" class="nav-link" data-scroll-target="#the-ugly">The Ugly</a></li>
  </ul></li>
  <li><a href="#up-next" id="toc-up-next" class="nav-link" data-scroll-target="#up-next">Up Next</a></li>
  <li><a href="#additional-tools" id="toc-additional-tools" class="nav-link" data-scroll-target="#additional-tools">Additional Tools</a>
  <ul class="collapse">
  <li><a href="#ai-defined-role" id="toc-ai-defined-role" class="nav-link" data-scroll-target="#ai-defined-role">AI Defined Role</a></li>
  <li><a href="#ai-defined-role-questions" id="toc-ai-defined-role-questions" class="nav-link" data-scroll-target="#ai-defined-role-questions">AI Defined Role Questions</a></li>
  <li><a href="#minion-maker-role" id="toc-minion-maker-role" class="nav-link" data-scroll-target="#minion-maker-role">Minion Maker Role</a></li>
  <li><a href="#minion-maker-role-questions" id="toc-minion-maker-role-questions" class="nav-link" data-scroll-target="#minion-maker-role-questions">Minion Maker Role Questions</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<p><u></u>Artwork created with Midjourney v6.1### Preface</p>
<p>This post is part of a year-long <u>initiative where I employ AI to create content</u> about holiday traditions worldwide. The objective is to observe how various AI tools perform and improve in content creation with minimal human intervention over time. This is the 2nd of 3 articles for the month of <u>November</u>.</p>
<p><em>Prompts and interactions with different AI models will be documented as they occur, providing insights into the methodologies, challenges, and adjustments made throughout the project</em></p>
<section id="tldr" class="level2">
<h2 class="anchored" data-anchor-id="tldr">TL;DR</h2>
<p>In November Pt 2, I tested how AI models perform when writing articles with varying levels of role definition. Using basic prompts, self-defined roles, and structured roles created with the Minion Maker, I generated articles about national holidays. The experiment revealed that while both Claude and GPT-4o can create roles that improve content with minimal guidance, highly structured roles consistently delivered superior results.</p>
<section id="ai-models" class="level3">
<h3 class="anchored" data-anchor-id="ai-models">AI Models</h3>
<ul>
<li>Claude 3.5 Sonnet</li>
<li>ChatGPT-4o</li>
</ul>
</section>
</section>
<section id="goals" class="level2">
<h2 class="anchored" data-anchor-id="goals">Goals</h2>
<ul>
<li>Test AI model performance with minimal guidance</li>
<li>Compare basic prompts against more structured approaches</li>
<li>Analyze how different AIs interpret and define their own roles</li>
</ul>
</section>
<section id="self-defined-roles" class="level2">
<h2 class="anchored" data-anchor-id="self-defined-roles">Self-Defined Roles</h2>
<p>Initially, I directed Claude and GPT-4o to write articles on the “Proclamation of the Republic Day” and “Dignity and Freedom Day in Ukraine,” ensuring the content was engaging, ethical, and historically accurate. This approach enabled me to compare their performance and evaluate improvements when roles were clearly defined.</p>
<ol type="1">
<li>Basic Article Generation:</li>
</ol>
<ul>
<li>I asked the AIs to write initial articles with a basic prompt.</li>
</ul>
<ol start="2" type="1">
<li>Role Development:</li>
</ol>
<ul>
<li>I had the AIs review these initial articles.</li>
<li>I asked them to identify ideal skills and traits for authors of such content.</li>
</ul>
<ol start="3" type="1">
<li>Role Application:</li>
</ol>
<ul>
<li><p>They assumed the roles they had defined.</p></li>
<li><p>When asked if they had any questions:</p></li>
<li><p>Claude took a methodical approach with five focused questions.</p></li>
<li><p>GPT-4o dove in with nine detailed questions, including several about SEO and deadlines.</p></li>
<li><p>They wrote new articles using these self-defined characteristics.</p></li>
</ul>
</section>
<section id="structured-role-approach" class="level2">
<h2 class="anchored" data-anchor-id="structured-role-approach">Structured Role Approach</h2>
<p>Using the Minion Maker, I crafted a detailed role specifically for writing historical articles to contrast with self-defined roles based on specific parameters in my GPT.</p>
<ol type="1">
<li>I created a detailed role using the Minion Maker.</li>
<li>I asked the AIs if they had any questions before writing:</li>
</ol>
<ul>
<li>Claude asked for clarification about the specific country and audience.</li>
<li>GPT-4o proceeded directly to writing.</li>
</ul>
<ol start="3" type="1">
<li>They wrote articles using this structured role.</li>
</ol>
</section>
<section id="prompt-specifically-kids" class="level2">
<h2 class="anchored" data-anchor-id="prompt-specifically-kids">Prompt Specifically, Kids</h2>
<p>It wasn’t until I reached the scoring portion of the exercise that Claude highlighted I had a bit more variety than I had intended. When I tasked the AI with writing about Proclamation of the Republic Day, I neglected to specify Brazil. Since I essentially copied and pasted the prompt, the results were intriguing:</p>
<ul>
<li>Some focused on Brazil’s 1889 proclamation.</li>
<li>Others wrote about Portugal’s 1910 event.</li>
<li>One even decided to cover Turkey’s proclamation.</li>
</ul>
</section>
<section id="role-definition-impact" class="level2">
<h2 class="anchored" data-anchor-id="role-definition-impact">Role Definition Impact</h2>
<p>The scoring data indicates that Minion Maker roles consistently outperform other role definitions, such as those by Claude and AI. Minion Maker articles frequently score near the top, while AI articles tend to lag behind. This trend is clear across both datasets, highlighting Minion Maker’s structural advantage without significant prompting.</p>
<p><u></u>Claude’s Scoring Data<u></u>GPT-4o’s Scoring Data<em>On an entirely different note, I should pay more attention to how I have AI zoom into specific ranges in charts to make the patterns easier to see.</em></p>
</section>
<section id="insights-observations" class="level2">
<h2 class="anchored" data-anchor-id="insights-observations">Insights &amp; Observations</h2>
<section id="the-good" class="level3">
<h3 class="anchored" data-anchor-id="the-good">The Good</h3>
<ul>
<li>The experiment highlights how role definition significantly impacts content quality.</li>
<li>Highly structured roles consistently deliver effective results compared to less defined roles, even when augmented with factors like tone.</li>
</ul>
</section>
<section id="the-bad" class="level3">
<h3 class="anchored" data-anchor-id="the-bad">The Bad</h3>
<ul>
<li>Basic prompts lead to significant variation in topic focus.</li>
<li>Balancing the specificity of different elements in prompts continues to be elusive.</li>
</ul>
</section>
<section id="the-ugly" class="level3">
<h3 class="anchored" data-anchor-id="the-ugly">The Ugly</h3>
<p>When you ask AI to write about Proclamation Day without specifying which one, it’s like playing historical roulette—you might end up anywhere from Brazil to Turkey, with a few surprising stops in between. It’s a reminder that sometimes being too open-ended with AI is like asking a group of excited historians “tell me about a revolution” and hoping they pick the same one. 🌍🤖</p>
</section>
</section>
<section id="up-next" class="level2">
<h2 class="anchored" data-anchor-id="up-next">Up Next</h2>
<ul>
<li>Test one-shot and few-shot prompting approaches.</li>
<li>Apply similar role definition testing to editor roles.</li>
</ul>
</section>
<section id="additional-tools" class="level2">
<h2 class="anchored" data-anchor-id="additional-tools">Additional Tools</h2>
<p>The tools behind the articles. No affiliations.</p>
<ul>
<li><u>Arc</u>: Browser supreme</li>
<li>ChatGPT-4o <code>*</code>: Alt text &amp; visualizations</li>
<li><u>Midjourney</u> <code>*</code>: Article and AI article images</li>
<li><u>Rename X</u> <code>*</code>: File renaming app for Mac</li>
<li><u>Type.ai</u> <code>*</code>: Text editor</li>
</ul>
<p>Paid items indicated by <code>*</code></p>
<p><u></u>Artwork created with Midjourney v6.1## Appendix</p>
<section id="ai-defined-role" class="level3">
<h3 class="anchored" data-anchor-id="ai-defined-role">AI Defined Role</h3>
<pre><code>Write an article for Proclamation of the Republic Day that is educational, engaging, and historically accurate.</code></pre>
<pre><code>Review your article and using it as an example of the type of articles I need authored, and provide me with the ideal skills and traits for a role to do the authoring.</code></pre>
<pre><code>I want you to assume this role for the rest of our conversation. Do you have any questions?</code></pre>
</section>
<section id="ai-defined-role-questions" class="level3">
<h3 class="anchored" data-anchor-id="ai-defined-role-questions">AI Defined Role Questions</h3>
<section id="claude" class="level4">
<h4 class="anchored" data-anchor-id="claude">Claude</h4>
<p><strong>Claude</strong></p>
<p>Yes, a few key questions to better serve in this role:</p>
<ol type="1">
<li>What is the target audience level (general public, students, academics)?</li>
<li>Are there specific historical periods or topics you’d like to prioritize?</li>
<li>Do you have any style preferences regarding tone and level of academic formality?</li>
<li>Should articles follow a consistent format/template?</li>
<li>What is the typical desired length for articles?</li>
</ol>
</section>
<section id="gpt-4o" class="level4">
<h4 class="anchored" data-anchor-id="gpt-4o">GPT-4o</h4>
<p>Understood! I’m ready to assume the role of an expert author for your needs. Here are a few clarifying questions to ensure I meet your expectations effectively:</p>
<ol type="1">
<li><strong>Target Audience</strong>: Who is the primary audience for these articles? Are they general readers, academics, industry professionals, or another group?</li>
<li><strong>Tone and Style</strong>: Do you prefer a formal, academic tone, a conversational and engaging tone, or a mix of both?</li>
<li><strong>Content Focus</strong>: Are there specific themes, regions, or historical periods you’d like emphasized in the articles?</li>
<li><strong>Article Length</strong>: Do you have a preferred word count range for the articles? Should they be concise overviews or in-depth explorations?</li>
<li><strong>Frequency and Deadlines</strong>: How often will these articles be required, and what are the typical turnaround times?</li>
<li><strong>Formatting Requirements</strong>: Should the articles include headings, subheadings, bullet points, or other specific formatting features?</li>
<li><strong>Supplementary Materials</strong>: Should I include citations, references, infographics, or suggestions for visual elements alongside the articles?</li>
<li><strong>SEO and Keywords</strong>: Should the articles be optimized for search engines? If so, do you have specific keywords or guidelines?</li>
<li><strong>Examples and Inspirations</strong>: Are there other articles or publications you admire that can serve as inspiration for style or structure?</li>
</ol>
</section>
</section>
<section id="minion-maker-role" class="level3">
<h3 class="anchored" data-anchor-id="minion-maker-role">Minion Maker Role</h3>
<pre><code>A role to write an article for Proclamation of the Republic Day that is educational, engaging, and historically accurate.</code></pre>
<p>{</p>
<p>“role”: {</p>
<p>“title”: “Historical Article Creator”,</p>
<p>“description”: “Writes an educational, engaging, and historically accurate article for Proclamation of the Republic Day. This role involves crafting content that combines historical analysis with compelling narrative techniques to inform and captivate the reader.”</p>
<p>},</p>
<p>“traits”: [</p>
<p>{</p>
<p>“category”: “core_competency”,</p>
<p>“name”: “Historical Research Synthesis”,</p>
<p>“rationale”: “Ensures the article is built on accurate and comprehensive historical data, combining information from various sources to provide a nuanced understanding of the Proclamation of the Republic Day.”</p>
<p>},</p>
<p>{</p>
<p>“category”: “core_competency”,</p>
<p>“name”: “Narrative Construction”,</p>
<p>“rationale”: “Develops an engaging structure for the article, weaving historical facts into a compelling story that maintains reader interest and enhances understanding.”</p>
<p>},</p>
<p>{</p>
<p>“category”: “knowledge_area”,</p>
<p>“name”: “Historical Contextualization”,</p>
<p>“rationale”: “Places the events of Proclamation of the Republic Day within their broader social, political, and cultural contexts, explaining their significance and impact on subsequent history.”</p>
<p>},</p>
<p>{</p>
<p>“category”: “knowledge_area”,</p>
<p>“name”: “Civic and National Awareness”,</p>
<p>“rationale”: “Highlights the relevance of Proclamation of the Republic Day to civic identity and national pride, connecting historical insights to present-day values.”</p>
<p>},</p>
<p>{</p>
<p>“category”: “key_skill”,</p>
<p>“name”: “Engaging Language Use”,</p>
<p>“rationale”: “Employs clear, vivid, and relatable language to communicate historical information in a way that is accessible and appealing to a wide audience.”</p>
<p>},</p>
<p>{</p>
<p>“category”: “key_skill”,</p>
<p>“name”: “Educational Clarity”,</p>
<p>“rationale”: “Presents complex historical details with clarity, ensuring that the audience, regardless of prior knowledge, can follow and appreciate the significance of the events described.”</p>
<p>},</p>
<p>{</p>
<p>“category”: “key_skill”,</p>
<p>“name”: “Fact Verification”,</p>
<p>“rationale”: “Utilizes reliable sources to verify all historical claims, ensuring the article’s accuracy and credibility.”</p>
<p>}</p>
<p>]</p>
<p>}</p>
<pre><code>Write an article for Proclamation of the Republic Day that is educational, engaging, and historically accurate. Before you begin, do you have any questions?</code></pre>
</section>
<section id="minion-maker-role-questions" class="level3">
<h3 class="anchored" data-anchor-id="minion-maker-role-questions">Minion Maker Role Questions</h3>
<section id="claude-1" class="level4">
<h4 class="anchored" data-anchor-id="claude-1">Claude</h4>
<p>Before I write the article, I have a few clarifying questions to ensure I provide the most relevant and accurate content:</p>
<ol type="1">
<li>For which country’s Proclamation of the Republic Day would you like the article? Several nations celebrate such an event (e.g., Brazil, Portugal, Turkey), and each has its unique historical context and significance.</li>
<li>What is your target audience’s level of familiarity with the subject? This will help me balance between providing basic context and diving into deeper historical details.</li>
<li>Would you prefer the article to focus more on:</li>
</ol>
<ul>
<li>The events of the specific day</li>
<li>The broader historical context leading up to the proclamation</li>
<li>The lasting impact and modern significance</li>
<li>A combination of these aspects</li>
</ul>
<p>Once you provide these details, I can craft an article that best serves your needs while maintaining historical accuracy and engagement.</p>
</section>
<section id="gpt-4o-1" class="level4">
<h4 class="anchored" data-anchor-id="gpt-4o-1">GPT-4o</h4>
<p>No time for love Doctor Jones.</p>
<p><u></u></p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/syntaxandempathy\.github\.io\/syntax-and-empathy\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© {date:YYYY} Syntax &amp; Empathy</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="../../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>